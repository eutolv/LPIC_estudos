
# üß† Plano de Estudo Pr√°tico ‚Äì 101.2 Boot do Sistema (Linux)

> Entenda e manipule cada etapa da inicializa√ß√£o do Linux: BIOS/UEFI ‚Üí GRUB ‚Üí Kernel ‚Üí init.

---

## üîß M√≥dulo: Boot do Sistema Linux

---

## ‚ú® 1. Sequ√™ncia de Inicializa√ß√£o ‚Äì Teoria Aplicada

### ‚úÖ Exerc√≠cio 1.1 ‚Äì Reconhecer a sequ√™ncia de boot

Reinicie sua m√°quina e entre na BIOS/UEFI. Verifique a ordem de boot.

Identifique se o sistema usa MBR ou UEFI:

```bash
[ -d /sys/firmware/efi ] && echo "UEFI" || echo "BIOS"
```

üìå **Resumo**:

* Etapas do boot: `BIOS/UEFI ‚ûî GRUB ‚ûî Kernel ‚ûî init (systemd)`
* UEFI utiliza `/boot/efi` com arquivos `.efi`

---

## üö® 2. GRUB e Par√¢metros do Kernel

### ‚úÖ Exerc√≠cio 2.1 ‚Äì Iniciar com par√¢metros no GRUB

Na tela do GRUB:

1. Pressione `e` para editar.
2. Localize a linha que inicia com `linux`.
3. Adicione ao final:

   ```bash
   init=/bin/bash
   ```
4. Pressione `Ctrl + X` ou `F10`.

üìå O sistema inicializa direto no shell `bash` como root.

**Outros par√¢metros √∫teis**:

* `systemd.unit=rescue.target`
* `acpi=off`
* `mem=512M`
* `maxcpus=1`

---

## ü™§ 3. Tornar Par√¢metros do Kernel Persistentes

### ‚úÖ Exerc√≠cio 3.1 ‚Äì Editar o GRUB permanentemente

1. Edite o arquivo de configura√ß√£o:

```bash
sudo nano /etc/default/grub
```

2. Altere a linha:

```bash
GRUB_CMDLINE_LINUX="quiet splash mem=1024M"
```

3. Atualize o GRUB:

```bash
sudo grub-mkconfig -o /boot/grub/grub.cfg
```

4. Ap√≥s reiniciar, confirme:

```bash
cat /proc/cmdline
```

---

## ‚åõ 4. Analisar a Inicializa√ß√£o com Logs

### ‚úÖ Exerc√≠cio 4.1 ‚Äì Ver mensagens do kernel

```bash
dmesg | less
dmesg --human --pager
```

### ‚úÖ Exerc√≠cio 4.2 ‚Äì Usar `journalctl`

* Boot atual:

```bash
journalctl -b
```

* Boot anterior:

```bash
journalctl -b -1
```

* Listar todos os boots:

```bash
journalctl --list-boots
```

* Somente mensagens do kernel:

```bash
journalctl -k
```

---

## üß∞ 5. init, SysVinit e systemd

### ‚úÖ Exerc√≠cio 5.1 ‚Äì Ver qual init est√° em uso

```bash
ps -p 1 -o comm=
```

Retornando `systemd`, sabemos que o sistema o utiliza como init principal.

### ‚úÖ Exerc√≠cio 5.2 ‚Äì Comparar init antigos e atuais

* Scripts cl√°ssicos do SysVinit:

```bash
ls /etc/init.d/
```

* Unidades gerenciadas pelo systemd:

```bash
systemctl list-units
```

---

## ‚úÖ Simulado 101.2 ‚Äì Desafios Reais de Boot

### üß© Situa√ß√£o 1:

**O sistema falha no init. Como entrar direto em shell root?**

> Solu√ß√£o:

```bash
# No GRUB, editar e adicionar:
init=/bin/bash
```

---

### üß© Situa√ß√£o 2:

**Instalou kernel customizado sem `initramfs`. Resultado?**

> Resposta esperada: erro do tipo
> `ALERT! /dev/sda3 does not exist.`

---

### üß© Situa√ß√£o 3:

**Deseja iniciar com apenas 1 n√∫cleo de CPU.**

> Solu√ß√£o:

```bash
# Adicione no GRUB:
maxcpus=1
```

---

### üß© Situa√ß√£o 4:

**Quer revisar logs de boots antigos.**

> Solu√ß√£o:

```bash
journalctl --list-boots
journalctl -b -2
```

---

### üß© Situa√ß√£o 5:

**Montou outro HD em `/mnt/hd` e quer ler os logs systemd dele.**

> Solu√ß√£o:

```bash
journalctl --directory=/mnt/hd/var/log/journal
```

---

